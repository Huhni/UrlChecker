<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.trianguloy.urlchecker">

    <uses-permission android:name="android.permission.INTERNET" />

    <!--
    As of API 30+ package discovery is restricted, and you can't even open an url: https://developer.android.com/training/basics/intents/package-visibility#intent-signature
    A queries tag with description of what intents you use is required, but if you don't want to be bothered this is a simple alternative.
    This is valid queries tag that will return all packages with at least one intent. Some internal device packages won't be returned, but probably you didn't want them anyway. All the functionality from pre29 should be restored.
    -->
    <queries>
        <intent>
            <action android:name="*" />
        </intent>
    </queries>

    <application
        android:allowBackup="true"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:supportsRtl="true"
        android:theme="@android:style/Theme.DeviceDefault"
        android:usesCleartextTraffic="true">
        <activity android:name=".activities.AboutActivity" />
        <activity android:name=".activities.ConfigActivity" />
        <activity
            android:name=".dialogs.MainDialog"
            android:exported="true"
            android:excludeFromRecents="true"
            android:noHistory="true"
            android:theme="@android:style/Theme.DeviceDefault.Dialog">
            <intent-filter>
                <action
                    android:name="android.intent.action.VIEW"
                    android:exported="true"/>

                <category
                    android:name="android.intent.category.DEFAULT"
                    android:exported="true"/>
                <category
                    android:name="android.intent.category.BROWSABLE"
                    android:exported="true"/>

                <data android:scheme="http" />
                <data android:scheme="https" />
            </intent-filter>
            <intent-filter>
                <action
                    android:name="android.intent.action.SEND"
                    android:exported="true"/>
                <category
                    android:name="android.intent.category.DEFAULT"
                    android:exported="true"/>
                <data android:mimeType="text/plain" />
            </intent-filter>
        </activity>
        <activity
            android:name=".activities.MainActivity"
            android:exported="true">
            <intent-filter>
                <action
                    android:name="android.intent.action.MAIN"
                    android:exported="true"/>

                <category
                    android:name="android.intent.category.LAUNCHER"
                    android:exported="true"/>
            </intent-filter>
        </activity>

        <service
            android:name=".services.CustomTabs"
            android:exported="true">
            <intent-filter>
                <action android:name="android.support.customtabs.action.CustomTabsService" />
            </intent-filter>
        </service>
    </application>

</manifest>
